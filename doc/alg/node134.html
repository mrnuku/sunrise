<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1p1 release (March 2nd, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>0.5.12 A Pseudo-Random Number Generator</TITLE>
<META NAME="description" CONTENT="0.5.12 A Pseudo-Random Number Generator">
<META NAME="keywords" CONTENT="alg">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="alg.css">
<LINK REL="next" HREF="node138.html">
<LINK REL="previous" HREF="node131.html">
<LINK REL="up" HREF="node98.html">
<LINK REL="next" HREF="node135.html">
</HEAD>
<BODY bgcolor=#cccc99 text=#555555 link=#993300 alink=#006666 vlink=#993300>
<!--Navigation Panel-->
<A NAME="tex2html2055"
 HREF="node135.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html2051"
 HREF="node98.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html2045"
 HREF="node133.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html2053"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html2054"
 HREF="node194.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> <A HREF="/cgi-bin/glimpse?title=search+the+algorithm+archive&dir=%2fusr%2flocal%2Finfo%2Fhttp%2Fhtdocs%2Fdata%2Fscott%2Fsearch%2Findex%2Falg">Search</A>
<BR>
<B> Next:</B> <A NAME="tex2html2056"
 HREF="node135.html">0.5.12.1 Analysis</A>
<B> Up:</B> <A NAME="tex2html2052"
 HREF="node98.html">0.5 Miscellaneous Algorithms</A>
<B> Previous:</B> <A NAME="tex2html2046"
 HREF="node133.html">0.5.11.2 References</A>
<BR>
<BR><TABLE WIDTH=640 BGCOLOR=#000000 ALIGN=CENTER CELLPADDING=5><TD><TABLE WIDTH=640 BGCOLOR=#ffffff CELLSPACING=0 ALIGN=CENTER CELLPADDING=5 CELLPADDING=5><TD>
<!--End of Navigation Panel-->

<H2><A NAME="SECTION000612000000000000000">&#160;</A>
<A NAME="2698">&#160;</A>
<A NAME="2699">&#160;</A>
<A NAME="2700">&#160;</A>
<BR>
0.5.12 A Pseudo-Random Number Generator
</H2>

<P>
The below given <TT>rand</TT> function returns a <B>pseudo-random</B>
integer in the range 0 to 999999999 inclusive.  It works by creating
an array of one-hundred integers from an initial key (or "seed") and
then then partitioning the range into two subranges.  The first
fifty-five entries are integers to be used in pairs to generate a
random result.  The next forty-two entries are random results already
generated but "on hold" until selected in order to disturb any pattern
in output caused by a poor key and to shuffle the order of random
integers on output.  The final two elements in the structure simply
contain internal pointers which always reference elements in the 1 to
55 range.  The values referenced by these internal pointers are
subtracted and then adjusted to be greater than zero if needed to form
a result.

<P>
This table-subtraction method produces a good degree of randomness
alone, but another technique is also used to augment its operation.
The result stored at position 100 in the array is used to select one
of the 42 entries in locations 56 to 97 in the table for replacement.
The number which is being replaced at this location is both promoted
up to location 100 and tagged to be returned from the function as it's
return value.  The number generated by subtraction in the 1 to 55
range replaces this newly promoted number at its old position where it
will wait as a possible random return value until a subtraction
selects it.  This additional "shuffling" serves to negate any subtle
patterns that the sequence of values generated with rotating table
subtractions might produce.

<P>
The <TT>init_rand</TT> function takes a seed key in the form of an
arbitrary length ASCII string.  This key is used to seed the random
table used, later, by <TT>rand</TT> to produce random numbers.  You will
notice that the algorithm adds the string "aEbFcGdHeI " the the
beginning of the key before initializing the table.  This is to ensure
there are both characters with even and odd ASCII values in the seed
string.  Once the (adjusted) ASCII values of the key are put into the
table, the <TT>init_rand</TT> algorithm cycles through the table
shuffling values to form an even, random initial numeric distribution
in the table.  It then initializes the pointers in positions 98, 99
and 100.  At this point everything is ready for the first call to <TT>rand</TT>.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS">&#160;</A>
<UL>
<LI><A NAME="tex2html2057"
 HREF="node135.html">0.5.12.1 Analysis</A>
<LI><A NAME="tex2html2058"
 HREF="node136.html">0.5.12.2 Source Code</A>
<LI><A NAME="tex2html2059"
 HREF="node137.html">0.5.12.3 References</A>
</UL>
<!--End of Table of Child-Links-->
</TD></TABLE></TD></TABLE>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Scott Gasch</I>
<BR><I>1999-07-09</I>
</ADDRESS>
</BODY>
</HTML>
