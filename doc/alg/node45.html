<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!--Converted with LaTeX2HTML 98.1p1 release (March 2nd, 1998)
originally by Nikos Drakos (nikos@cbl.leeds.ac.uk), CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>0.3.1.2 Partitioning</TITLE>
<META NAME="description" CONTENT="0.3.1.2 Partitioning">
<META NAME="keywords" CONTENT="alg">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<LINK REL="STYLESHEET" HREF="alg.css">
<LINK REL="next" HREF="node46.html">
<LINK REL="previous" HREF="node44.html">
<LINK REL="up" HREF="node43.html">
<LINK REL="next" HREF="node46.html">
</HEAD>
<BODY bgcolor=#cccc99 text=#555555 link=#993300 alink=#006666 vlink=#993300>
<!--Navigation Panel-->
<A NAME="tex2html921"
 HREF="node46.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next_motif.gif"></A> 
<A NAME="tex2html917"
 HREF="node43.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up_motif.gif"></A> 
<A NAME="tex2html911"
 HREF="node44.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="previous_motif.gif"></A> 
<A NAME="tex2html919"
 HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents_motif.gif"></A> 
<A NAME="tex2html920"
 HREF="node194.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index_motif.gif"></A> <A HREF="/cgi-bin/glimpse?title=search+the+algorithm+archive&dir=%2fusr%2flocal%2Finfo%2Fhttp%2Fhtdocs%2Fdata%2Fscott%2Fsearch%2Findex%2Falg">Search</A>
<BR>
<B> Next:</B> <A NAME="tex2html922"
 HREF="node46.html">0.3.1.3 Analysis</A>
<B> Up:</B> <A NAME="tex2html918"
 HREF="node43.html">0.3.1 The Quicksort</A>
<B> Previous:</B> <A NAME="tex2html912"
 HREF="node44.html">0.3.1.1 Picking a Pivot</A>
<BR>
<BR><TABLE WIDTH=640 BGCOLOR=#000000 ALIGN=CENTER CELLPADDING=5><TD><TABLE WIDTH=640 BGCOLOR=#ffffff CELLSPACING=0 ALIGN=CENTER CELLPADDING=5 CELLPADDING=5><TD>
<!--End of Navigation Panel-->

<H3><A NAME="SECTION00041200000000000000">&#160;</A>
<A NAME="1179">&#160;</A>
<BR>
0.3.1.2 Partitioning
</H3>

<P>
Now, here is code to do the actual work of dividing an input range
into two partitions based on a pivot point.  Again, it is written in
C:

<P>
<HR><PRE>
int partition (data *array, int left, int right, int pivotval) {
  do {
    swap (&amp;array[left], &amp;array[right]);
    while (value(array[left]) &lt; pivotval) left++;
    while (value(array[right]) &gt;= pivotval) right++;
  } while (right &gt;= left);

  /* this will be the value of the first element in the right part */
  return (left);
}
</PRE> 
<HR>
<P>
The above routine cleverly moves inward from each end of the input
range swapping data values that are on the wrong side of the pivot
value until the two inward-moving indices meet in the middle.  The
initial swap, above, is not necessary; it is included only to make the
do-loop more simple.  In the worst case, <I>n</I>-1 comparisons and

<!-- MATH: $\frac{n}{2}$ -->
<IMG
 WIDTH="18" HEIGHT="37" ALIGN="MIDDLE" BORDER="0"
 SRC="img4.gif"
 ALT="$\frac{n}{2}$">
swaps are necessary to partition the data set.

<P>
</TD></TABLE></TD></TABLE>

<!--End of Navigation Panel-->
<ADDRESS>
<I>Scott Gasch</I>
<BR><I>1999-07-09</I>
</ADDRESS>
</BODY>
</HTML>
